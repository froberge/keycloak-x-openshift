apiVersion: k8s.keycloak.org/v2alpha1
kind: KeycloakRealmImport
metadata:
  name: keycloak-realm-import
  labels:
    app: keycloak
  namespace: keycloak-dev
spec:
  keycloakCRName: keycloak
  realm:
    id: effed739-f200-48c0-88aa-740b106767c3
    realm: WebAuthN
    notBefore: 0
    defaultSignatureAlgorithm: RS256
    revokeRefreshToken: false
    refreshTokenMaxReuse: 0
    accessTokenLifespan: 300
    accessTokenLifespanForImplicitFlow: 900
    ssoSessionIdleTimeout: 1800
    ssoSessionMaxLifespan: 36000
    ssoSessionIdleTimeoutRememberMe: 0
    ssoSessionMaxLifespanRememberMe: 0
    offlineSessionIdleTimeout: 2592000
    offlineSessionMaxLifespanEnabled: false
    offlineSessionMaxLifespan: 5184000
    clientSessionIdleTimeout: 0
    clientSessionMaxLifespan: 0
    clientOfflineSessionIdleTimeout: 0
    clientOfflineSessionMaxLifespan: 0
    accessCodeLifespan: 60
    accessCodeLifespanUserAction: 300
    accessCodeLifespanLogin: 1800
    actionTokenGeneratedByAdminLifespan: 43200
    actionTokenGeneratedByUserLifespan: 300
    oauth2DeviceCodeLifespan: 600
    oauth2DevicePollingInterval: 5
    enabled: true
    sslRequired: external
    registrationAllowed: true
    registrationEmailAsUsername: false
    rememberMe: false
    verifyEmail: false
    loginWithEmailAllowed: true
    duplicateEmailsAllowed: false
    resetPasswordAllowed: false
    editUsernameAllowed: false
    bruteForceProtected: false
    permanentLockout: false
    maxFailureWaitSeconds: 900
    minimumQuickLoginWaitSeconds: 60
    waitIncrementSeconds: 60
    quickLoginCheckMilliSeconds: 1000
    maxDeltaTimeSeconds: 43200
    failureFactor: 30
    defaultRole:
      id: d318dd0b-61fc-4429-be2b-f1ef3ac9f0fa
      name: default-roles-passwordless
      description: "${role_default-roles}"
      composite: true
      clientRole: false
      containerId: effed739-f200-48c0-88aa-740b106767c3
    requiredCredentials:
    - password
    otpPolicyType: totp
    otpPolicyAlgorithm: HmacSHA1
    otpPolicyInitialCounter: 0
    otpPolicyDigits: 6
    otpPolicyLookAheadWindow: 1
    otpPolicyPeriod: 30
    otpSupportedApplications:
    - FreeOTP
    - Google Authenticator
    webAuthnPolicyRpEntityName: keycloak
    webAuthnPolicySignatureAlgorithms:
    - ES256
    webAuthnPolicyRpId: ''
    webAuthnPolicyAttestationConveyancePreference: not specified
    webAuthnPolicyAuthenticatorAttachment: not specified
    webAuthnPolicyRequireResidentKey: not specified
    webAuthnPolicyUserVerificationRequirement: not specified
    webAuthnPolicyCreateTimeout: 0
    webAuthnPolicyAvoidSameAuthenticatorRegister: false
    webAuthnPolicyAcceptableAaguids: []
    webAuthnPolicyPasswordlessRpEntityName: keycloak
    webAuthnPolicyPasswordlessSignatureAlgorithms:
    - ES256
    webAuthnPolicyPasswordlessRpId: ''
    webAuthnPolicyPasswordlessAttestationConveyancePreference: not specified
    webAuthnPolicyPasswordlessAuthenticatorAttachment: not specified
    webAuthnPolicyPasswordlessRequireResidentKey: not specified
    webAuthnPolicyPasswordlessUserVerificationRequirement: not specified
    webAuthnPolicyPasswordlessCreateTimeout: 0
    webAuthnPolicyPasswordlessAvoidSameAuthenticatorRegister: false
    webAuthnPolicyPasswordlessAcceptableAaguids: []
    scopeMappings:
    - clientScope: offline_access
      roles:
      - offline_access
    clientScopes:
    - id: 13f76076-b238-411b-b75e-c23bf85c19d2
      name: phone
      description: 'OpenID Connect built-in scope: phone'
      protocol: openid-connect
      attributes:
        include.in.token.scope: 'true'
        display.on.consent.screen: 'true'
        consent.screen.text: "${phoneScopeConsentText}"
      protocolMappers:
      - id: 0de5ae41-5ffa-4608-99aa-e9a2ee04af8f
        name: phone number verified
        protocol: openid-connect
        protocolMapper: oidc-usermodel-attribute-mapper
        consentRequired: false
        config:
          userinfo.token.claim: 'true'
          user.attribute: phoneNumberVerified
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: phone_number_verified
          jsonType.label: boolean
      - id: 5d310382-a627-499c-89b4-76565f7a7ddd
        name: phone number
        protocol: openid-connect
        protocolMapper: oidc-usermodel-attribute-mapper
        consentRequired: false
        config:
          userinfo.token.claim: 'true'
          user.attribute: phoneNumber
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: phone_number
          jsonType.label: String
    - id: 3d0ff6f4-8b69-423a-b271-b7cbaeab8e7c
      name: web-origins
      description: OpenID Connect scope for add allowed web origins to the access token
      protocol: openid-connect
      attributes:
        include.in.token.scope: 'false'
        display.on.consent.screen: 'false'
        consent.screen.text: ''
      protocolMappers:
      - id: dc6f0101-06c2-499a-89c8-45b9246e3110
        name: allowed web origins
        protocol: openid-connect
        protocolMapper: oidc-allowed-origins-mapper
        consentRequired: false
        config: {}
    - id: 5b97bd40-0875-48f9-bfcf-a2fdcecb0cad
      name: profile
      description: 'OpenID Connect built-in scope: profile'
      protocol: openid-connect
      attributes:
        include.in.token.scope: 'true'
        display.on.consent.screen: 'true'
        consent.screen.text: "${profileScopeConsentText}"
      protocolMappers:
      - id: b44b0c02-b877-433b-9a9e-477bd54cdeb3
        name: family name
        protocol: openid-connect
        protocolMapper: oidc-usermodel-property-mapper
        consentRequired: false
        config:
          userinfo.token.claim: 'true'
          user.attribute: lastName
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: family_name
          jsonType.label: String
      - id: fb56e02a-c477-476c-a5a0-ce8ca6c138ae
        name: website
        protocol: openid-connect
        protocolMapper: oidc-usermodel-attribute-mapper
        consentRequired: false
        config:
          userinfo.token.claim: 'true'
          user.attribute: website
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: website
          jsonType.label: String
      - id: 39ab9152-25f4-41c3-a1c4-dc459c09b368
        name: locale
        protocol: openid-connect
        protocolMapper: oidc-usermodel-attribute-mapper
        consentRequired: false
        config:
          userinfo.token.claim: 'true'
          user.attribute: locale
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: locale
          jsonType.label: String
      - id: 91c5380c-4fc5-4f25-af57-b4f0f84de853
        name: updated at
        protocol: openid-connect
        protocolMapper: oidc-usermodel-attribute-mapper
        consentRequired: false
        config:
          userinfo.token.claim: 'true'
          user.attribute: updatedAt
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: updated_at
          jsonType.label: long
      - id: d2d5a715-e2eb-4b2c-b103-089d9ee18af0
        name: picture
        protocol: openid-connect
        protocolMapper: oidc-usermodel-attribute-mapper
        consentRequired: false
        config:
          userinfo.token.claim: 'true'
          user.attribute: picture
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: picture
          jsonType.label: String
      - id: 0c7760cd-13a6-43df-a57d-ed8c0aa4122a
        name: full name
        protocol: openid-connect
        protocolMapper: oidc-full-name-mapper
        consentRequired: false
        config:
          id.token.claim: 'true'
          access.token.claim: 'true'
          userinfo.token.claim: 'true'
      - id: 1b09aa77-71da-429c-ab8e-6cf660b3b111
        name: given name
        protocol: openid-connect
        protocolMapper: oidc-usermodel-property-mapper
        consentRequired: false
        config:
          userinfo.token.claim: 'true'
          user.attribute: firstName
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: given_name
          jsonType.label: String
      - id: 26551dad-6c40-4782-b6c2-b9a7c49d6db1
        name: middle name
        protocol: openid-connect
        protocolMapper: oidc-usermodel-attribute-mapper
        consentRequired: false
        config:
          userinfo.token.claim: 'true'
          user.attribute: middleName
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: middle_name
          jsonType.label: String
      - id: 66ff28c4-9d86-4f8b-9f12-0bf56fd42ee3
        name: profile
        protocol: openid-connect
        protocolMapper: oidc-usermodel-attribute-mapper
        consentRequired: false
        config:
          userinfo.token.claim: 'true'
          user.attribute: profile
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: profile
          jsonType.label: String
      - id: 905f8815-79b9-4d42-ab85-d224d777bb4e
        name: birthdate
        protocol: openid-connect
        protocolMapper: oidc-usermodel-attribute-mapper
        consentRequired: false
        config:
          userinfo.token.claim: 'true'
          user.attribute: birthdate
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: birthdate
          jsonType.label: String
      - id: e0aac29d-a107-46b8-bbc4-02ac6d8b1a6b
        name: nickname
        protocol: openid-connect
        protocolMapper: oidc-usermodel-attribute-mapper
        consentRequired: false
        config:
          userinfo.token.claim: 'true'
          user.attribute: nickname
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: nickname
          jsonType.label: String
      - id: 4119c3c7-2ee1-4df9-890b-c37e3ea72e35
        name: gender
        protocol: openid-connect
        protocolMapper: oidc-usermodel-attribute-mapper
        consentRequired: false
        config:
          userinfo.token.claim: 'true'
          user.attribute: gender
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: gender
          jsonType.label: String
      - id: 1a9bafd0-7588-4e95-9c98-375f8ffe021a
        name: username
        protocol: openid-connect
        protocolMapper: oidc-usermodel-property-mapper
        consentRequired: false
        config:
          userinfo.token.claim: 'true'
          user.attribute: username
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: preferred_username
          jsonType.label: String
      - id: 584d8790-963c-4fd0-a98a-2435d782ecef
        name: zoneinfo
        protocol: openid-connect
        protocolMapper: oidc-usermodel-attribute-mapper
        consentRequired: false
        config:
          userinfo.token.claim: 'true'
          user.attribute: zoneinfo
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: zoneinfo
          jsonType.label: String
    - id: f86bbf9d-852d-4737-b13c-2f44485fcd45
      name: offline_access
      description: 'OpenID Connect built-in scope: offline_access'
      protocol: openid-connect
      attributes:
        consent.screen.text: "${offlineAccessScopeConsentText}"
        display.on.consent.screen: 'true'
    - id: 815e7dd4-f7c1-43ab-a7b6-0d164b8dd328
      name: role_list
      description: SAML role list
      protocol: saml
      attributes:
        consent.screen.text: "${samlRoleListScopeConsentText}"
        display.on.consent.screen: 'true'
      protocolMappers:
      - id: d787f3a9-7a92-42f3-b8c7-23907a61224c
        name: role list
        protocol: saml
        protocolMapper: saml-role-list-mapper
        consentRequired: false
        config:
          single: 'false'
          attribute.nameformat: Basic
          attribute.name: Role
    - id: 7564de06-e807-470d-b9e9-f8b015afbf8b
      name: microprofile-jwt
      description: Microprofile - JWT built-in scope
      protocol: openid-connect
      attributes:
        include.in.token.scope: 'true'
        display.on.consent.screen: 'false'
      protocolMappers:
      - id: 7b98ce10-1660-45cc-874c-235951828928
        name: groups
        protocol: openid-connect
        protocolMapper: oidc-usermodel-realm-role-mapper
        consentRequired: false
        config:
          multivalued: 'true'
          user.attribute: foo
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: groups
          jsonType.label: String
      - id: 73eabfa9-513a-4a2c-b0a5-f1540575bf78
        name: upn
        protocol: openid-connect
        protocolMapper: oidc-usermodel-property-mapper
        consentRequired: false
        config:
          userinfo.token.claim: 'true'
          user.attribute: username
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: upn
          jsonType.label: String
    - id: 1afa1a83-8876-4af5-8995-89397ab0e2f3
      name: address
      description: 'OpenID Connect built-in scope: address'
      protocol: openid-connect
      attributes:
        include.in.token.scope: 'true'
        display.on.consent.screen: 'true'
        consent.screen.text: "${addressScopeConsentText}"
      protocolMappers:
      - id: 32e881e0-2281-41ca-b496-117b1d0b8c2e
        name: address
        protocol: openid-connect
        protocolMapper: oidc-address-mapper
        consentRequired: false
        config:
          user.attribute.formatted: formatted
          user.attribute.country: country
          user.attribute.postal_code: postal_code
          userinfo.token.claim: 'true'
          user.attribute.street: street
          id.token.claim: 'true'
          user.attribute.region: region
          access.token.claim: 'true'
          user.attribute.locality: locality
    - id: b283746e-da58-44bf-9f3c-525db7d2df26
      name: roles
      description: OpenID Connect scope for add user roles to the access token
      protocol: openid-connect
      attributes:
        include.in.token.scope: 'false'
        display.on.consent.screen: 'true'
        consent.screen.text: "${rolesScopeConsentText}"
      protocolMappers:
      - id: 3eee2e96-4ee1-4f59-ba51-2e2ded116b6d
        name: client roles
        protocol: openid-connect
        protocolMapper: oidc-usermodel-client-role-mapper
        consentRequired: false
        config:
          user.attribute: foo
          access.token.claim: 'true'
          claim.name: resource_access.${client_id}.roles
          jsonType.label: String
          multivalued: 'true'
      - id: df8fca8f-89d8-45a4-a41b-8443e7dcb53b
        name: realm roles
        protocol: openid-connect
        protocolMapper: oidc-usermodel-realm-role-mapper
        consentRequired: false
        config:
          user.attribute: foo
          access.token.claim: 'true'
          claim.name: realm_access.roles
          jsonType.label: String
          multivalued: 'true'
      - id: 129b6b86-d792-402d-a26b-c91a6a2077b8
        name: audience resolve
        protocol: openid-connect
        protocolMapper: oidc-audience-resolve-mapper
        consentRequired: false
        config: {}
    - id: 6d5be334-1be7-43c7-ad37-03f7aae4675c
      name: acr
      description: OpenID Connect scope for add acr (authentication context class reference)
        to the token
      protocol: openid-connect
      attributes:
        include.in.token.scope: 'false'
        display.on.consent.screen: 'false'
      protocolMappers:
      - id: 8ce72866-2a44-4550-be50-8aff6644e31b
        name: acr loa level
        protocol: openid-connect
        protocolMapper: oidc-acr-mapper
        consentRequired: false
        config:
          id.token.claim: 'true'
          access.token.claim: 'true'
    - id: d1c9e562-b87f-46c8-8302-1d8b2ca8c84b
      name: email
      description: 'OpenID Connect built-in scope: email'
      protocol: openid-connect
      attributes:
        include.in.token.scope: 'true'
        display.on.consent.screen: 'true'
        consent.screen.text: "${emailScopeConsentText}"
      protocolMappers:
      - id: 23c72cdc-0917-47eb-b908-76a2c835a000
        name: email verified
        protocol: openid-connect
        protocolMapper: oidc-usermodel-property-mapper
        consentRequired: false
        config:
          userinfo.token.claim: 'true'
          user.attribute: emailVerified
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: email_verified
          jsonType.label: boolean
      - id: 616becfc-ec7e-4c4e-9763-e34d1ece03ad
        name: email
        protocol: openid-connect
        protocolMapper: oidc-usermodel-property-mapper
        consentRequired: false
        config:
          userinfo.token.claim: 'true'
          user.attribute: email
          id.token.claim: 'true'
          access.token.claim: 'true'
          claim.name: email
          jsonType.label: String
    defaultDefaultClientScopes:
    - role_list
    - profile
    - email
    - roles
    - web-origins
    - acr
    defaultOptionalClientScopes:
    - offline_access
    - address
    - phone
    - microprofile-jwt
    browserSecurityHeaders:
      contentSecurityPolicyReportOnly: ''
      xContentTypeOptions: nosniff
      xRobotsTag: none
      xFrameOptions: SAMEORIGIN
      contentSecurityPolicy: frame-src 'self'; frame-ancestors 'self'; object-src 'none';
      xXSSProtection: 1; mode=block
      strictTransportSecurity: max-age=31536000; includeSubDomains
    smtpServer: {}
    eventsEnabled: false
    eventsListeners:
    - jboss-logging
    enabledEventTypes: []
    adminEventsEnabled: false
    adminEventsDetailsEnabled: false
    identityProviders: []
    identityProviderMappers: []
    components:
      org.keycloak.services.clientregistration.policy.ClientRegistrationPolicy:
      - id: 7776f23a-3018-4900-a408-f1f911da1cba
        name: Consent Required
        providerId: consent-required
        subType: anonymous
        subComponents: {}
        config: {}
      - id: fad33871-4e67-42e8-8947-325c711d1843
        name: Full Scope Disabled
        providerId: scope
        subType: anonymous
        subComponents: {}
        config: {}
      - id: 3821c7f8-c73c-4c05-ac05-259e75890a09
        name: Max Clients Limit
        providerId: max-clients
        subType: anonymous
        subComponents: {}
        config:
          max-clients:
          - '200'
      - id: 1008cb37-3b5b-4d65-acb5-57937bb99f59
        name: Allowed Client Scopes
        providerId: allowed-client-templates
        subType: anonymous
        subComponents: {}
        config:
          allow-default-scopes:
          - 'true'
      - id: 6970e96c-35d5-40ea-a362-de983e9f6ff0
        name: Trusted Hosts
        providerId: trusted-hosts
        subType: anonymous
        subComponents: {}
        config:
          host-sending-registration-request-must-match:
          - 'true'
          client-uris-must-match:
          - 'true'
      - id: 74f87ffa-5b8b-4cd3-8c39-aa4a378ad3d9
        name: Allowed Protocol Mapper Types
        providerId: allowed-protocol-mappers
        subType: authenticated
        subComponents: {}
        config:
          allowed-protocol-mapper-types:
          - oidc-usermodel-attribute-mapper
          - saml-role-list-mapper
          - oidc-usermodel-property-mapper
          - oidc-sha256-pairwise-sub-mapper
          - oidc-address-mapper
          - saml-user-property-mapper
          - oidc-full-name-mapper
          - saml-user-attribute-mapper
      - id: 54c67bc2-5266-4254-9efc-580e40a85a76
        name: Allowed Client Scopes
        providerId: allowed-client-templates
        subType: authenticated
        subComponents: {}
        config:
          allow-default-scopes:
          - 'true'
      - id: b9d94a12-d6d5-47b8-8b7e-28a5207a457f
        name: Allowed Protocol Mapper Types
        providerId: allowed-protocol-mappers
        subType: anonymous
        subComponents: {}
        config:
          allowed-protocol-mapper-types:
          - oidc-full-name-mapper
          - saml-user-attribute-mapper
          - saml-user-property-mapper
          - oidc-address-mapper
          - oidc-sha256-pairwise-sub-mapper
          - oidc-usermodel-property-mapper
          - saml-role-list-mapper
          - oidc-usermodel-attribute-mapper
      org.keycloak.userprofile.UserProfileProvider:
      - id: a7117e98-7de0-4121-965b-263bc6ecb87a
        providerId: declarative-user-profile
        subComponents: {}
        config: {}
      org.keycloak.keys.KeyProvider:
      - id: f1a4d7d6-4853-4581-ae46-26abd829f106
        name: aes-generated
        providerId: aes-generated
        subComponents: {}
        config:
          priority:
          - '100'
      - id: 10af1a0f-5412-4078-9ec8-d4b06db4b8d3
        name: hmac-generated
        providerId: hmac-generated
        subComponents: {}
        config:
          priority:
          - '100'
          algorithm:
          - HS256
      - id: 38865235-223f-4eee-be63-5248eda20dde
        name: rsa-enc-generated
        providerId: rsa-enc-generated
        subComponents: {}
        config:
          priority:
          - '100'
          algorithm:
          - RSA-OAEP
      - id: 81d2fee8-f501-46ac-8cbe-6a680568eb6a
        name: rsa-generated
        providerId: rsa-generated
        subComponents: {}
        config:
          priority:
          - '100'
    internationalizationEnabled: false
    supportedLocales: []
    authenticationFlows:
    - id: b5bfe788-e054-4795-ad35-de3c0f5ed50c
      alias: Account verification options
      description: Method with which to verity the existing account
      providerId: basic-flow
      topLevel: false
      builtIn: true
      authenticationExecutions:
      - authenticator: idp-email-verification
        authenticatorFlow: false
        requirement: ALTERNATIVE
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticatorFlow: true
        requirement: ALTERNATIVE
        priority: 20
        autheticatorFlow: true
        flowAlias: Verify Existing Account by Re-authentication
        userSetupAllowed: false
    - id: 9d3c52e1-9f0b-4c93-9cfe-ba9285768b27
      alias: Authentication Options
      description: Authentication options.
      providerId: basic-flow
      topLevel: false
      builtIn: true
      authenticationExecutions:
      - authenticator: basic-auth
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: basic-auth-otp
        authenticatorFlow: false
        requirement: DISABLED
        priority: 20
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: auth-spnego
        authenticatorFlow: false
        requirement: DISABLED
        priority: 30
        autheticatorFlow: false
        userSetupAllowed: false
    - id: f73693df-c785-45a0-98df-21cffaf5be49
      alias: Browser - Conditional OTP
      description: Flow to determine if the OTP is required for the authentication
      providerId: basic-flow
      topLevel: false
      builtIn: true
      authenticationExecutions:
      - authenticator: conditional-user-configured
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: auth-otp-form
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 20
        autheticatorFlow: false
        userSetupAllowed: false
    - id: 1180d5cc-0f5c-4b1f-8afb-fabe1d5af5cd
      alias: Direct Grant - Conditional OTP
      description: Flow to determine if the OTP is required for the authentication
      providerId: basic-flow
      topLevel: false
      builtIn: true
      authenticationExecutions:
      - authenticator: conditional-user-configured
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: direct-grant-validate-otp
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 20
        autheticatorFlow: false
        userSetupAllowed: false
    - id: a404ce52-0050-400f-ba7d-d1b906179747
      alias: First broker login - Conditional OTP
      description: Flow to determine if the OTP is required for the authentication
      providerId: basic-flow
      topLevel: false
      builtIn: true
      authenticationExecutions:
      - authenticator: conditional-user-configured
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: auth-otp-form
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 20
        autheticatorFlow: false
        userSetupAllowed: false
    - id: bccb6a43-9ccd-4f2f-a915-5aae195463a9
      alias: Handle Existing Account
      description: Handle what to do if there is existing account with same email/username
        like authenticated identity provider
      providerId: basic-flow
      topLevel: false
      builtIn: true
      authenticationExecutions:
      - authenticator: idp-confirm-link
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticatorFlow: true
        requirement: REQUIRED
        priority: 20
        autheticatorFlow: true
        flowAlias: Account verification options
        userSetupAllowed: false
    - id: 0d754ad4-45dc-4890-922a-fad7ea907b93
      alias: Reset - Conditional OTP
      description: Flow to determine if the OTP should be reset or not. Set to REQUIRED
        to force.
      providerId: basic-flow
      topLevel: false
      builtIn: true
      authenticationExecutions:
      - authenticator: conditional-user-configured
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: reset-otp
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 20
        autheticatorFlow: false
        userSetupAllowed: false
    - id: 3d1cbe79-0473-4dd4-8639-2975d4c17b4c
      alias: User creation or linking
      description: Flow for the existing/non-existing user alternatives
      providerId: basic-flow
      topLevel: false
      builtIn: true
      authenticationExecutions:
      - authenticatorConfig: create unique user config
        authenticator: idp-create-user-if-unique
        authenticatorFlow: false
        requirement: ALTERNATIVE
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticatorFlow: true
        requirement: ALTERNATIVE
        priority: 20
        autheticatorFlow: true
        flowAlias: Handle Existing Account
        userSetupAllowed: false
    - id: 00c2e76a-704e-439c-8d82-07926ddd896f
      alias: Verify Existing Account by Re-authentication
      description: Reauthentication of existing account
      providerId: basic-flow
      topLevel: false
      builtIn: true
      authenticationExecutions:
      - authenticator: idp-username-password-form
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticatorFlow: true
        requirement: CONDITIONAL
        priority: 20
        autheticatorFlow: true
        flowAlias: First broker login - Conditional OTP
        userSetupAllowed: false
    - id: 76809725-f5ba-45c7-aaef-1b516f4b3a22
      alias: browser
      description: browser based authentication
      providerId: basic-flow
      topLevel: true
      builtIn: true
      authenticationExecutions:
      - authenticator: auth-cookie
        authenticatorFlow: false
        requirement: ALTERNATIVE
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: auth-spnego
        authenticatorFlow: false
        requirement: DISABLED
        priority: 20
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: identity-provider-redirector
        authenticatorFlow: false
        requirement: ALTERNATIVE
        priority: 25
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticatorFlow: true
        requirement: ALTERNATIVE
        priority: 30
        autheticatorFlow: true
        flowAlias: forms
        userSetupAllowed: false
    - id: b6a8ea2b-ecfc-495c-9de7-a93bca5bf1bf
      alias: browser webauthn
      description: browser based authentication
      providerId: basic-flow
      topLevel: true
      builtIn: false
      authenticationExecutions:
      - authenticator: auth-cookie
        authenticatorFlow: false
        requirement: ALTERNATIVE
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: auth-spnego
        authenticatorFlow: false
        requirement: DISABLED
        priority: 20
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: identity-provider-redirector
        authenticatorFlow: false
        requirement: ALTERNATIVE
        priority: 25
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticatorFlow: true
        requirement: ALTERNATIVE
        priority: 30
        autheticatorFlow: true
        flowAlias: browser webauthn forms
        userSetupAllowed: false
    - id: 9fa645bf-120f-4011-a6a9-87e685224296
      alias: browser webauthn forms
      description: Username, password, otp and other auth forms.
      providerId: basic-flow
      topLevel: false
      builtIn: false
      authenticationExecutions:
      - authenticator: auth-username-form
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 11
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: webauthn-authenticator
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 12
        autheticatorFlow: false
        userSetupAllowed: false
    - id: b9b0b460-b700-4ab3-a38f-674845da9626
      alias: clients
      description: Base authentication for clients
      providerId: client-flow
      topLevel: true
      builtIn: true
      authenticationExecutions:
      - authenticator: client-secret
        authenticatorFlow: false
        requirement: ALTERNATIVE
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: client-jwt
        authenticatorFlow: false
        requirement: ALTERNATIVE
        priority: 20
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: client-secret-jwt
        authenticatorFlow: false
        requirement: ALTERNATIVE
        priority: 30
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: client-x509
        authenticatorFlow: false
        requirement: ALTERNATIVE
        priority: 40
        autheticatorFlow: false
        userSetupAllowed: false
    - id: 2f52421e-3733-44f1-954f-6743e0c4dc57
      alias: direct grant
      description: OpenID Connect Resource Owner Grant
      providerId: basic-flow
      topLevel: true
      builtIn: true
      authenticationExecutions:
      - authenticator: direct-grant-validate-username
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: direct-grant-validate-password
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 20
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticatorFlow: true
        requirement: CONDITIONAL
        priority: 30
        autheticatorFlow: true
        flowAlias: Direct Grant - Conditional OTP
        userSetupAllowed: false
    - id: f0db5d68-805e-462e-a471-a0535362e5bb
      alias: docker auth
      description: Used by Docker clients to authenticate against the IDP
      providerId: basic-flow
      topLevel: true
      builtIn: true
      authenticationExecutions:
      - authenticator: docker-http-basic-authenticator
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
    - id: 5a0d5564-14bd-4846-abc9-a43cac31dfb9
      alias: first broker login
      description: Actions taken after first broker login with identity provider account,
        which is not yet linked to any Keycloak account
      providerId: basic-flow
      topLevel: true
      builtIn: true
      authenticationExecutions:
      - authenticatorConfig: review profile config
        authenticator: idp-review-profile
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticatorFlow: true
        requirement: REQUIRED
        priority: 20
        autheticatorFlow: true
        flowAlias: User creation or linking
        userSetupAllowed: false
    - id: 4c481d89-7a36-4d2d-817a-6f8b680538ab
      alias: forms
      description: Username, password, otp and other auth forms.
      providerId: basic-flow
      topLevel: false
      builtIn: true
      authenticationExecutions:
      - authenticator: auth-username-password-form
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticatorFlow: true
        requirement: CONDITIONAL
        priority: 20
        autheticatorFlow: true
        flowAlias: Browser - Conditional OTP
        userSetupAllowed: false
    - id: 4105ca57-77f8-43a6-b890-a7947093d637
      alias: http challenge
      description: An authentication flow based on challenge-response HTTP Authentication
        Schemes
      providerId: basic-flow
      topLevel: true
      builtIn: true
      authenticationExecutions:
      - authenticator: no-cookie-redirect
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticatorFlow: true
        requirement: REQUIRED
        priority: 20
        autheticatorFlow: true
        flowAlias: Authentication Options
        userSetupAllowed: false
    - id: 8a718c44-7217-4769-af70-cc0269ed61a4
      alias: registration
      description: registration flow
      providerId: basic-flow
      topLevel: true
      builtIn: true
      authenticationExecutions:
      - authenticator: registration-page-form
        authenticatorFlow: true
        requirement: REQUIRED
        priority: 10
        autheticatorFlow: true
        flowAlias: registration form
        userSetupAllowed: false
    - id: 37d4751a-8350-4f7d-a389-435b53be15fc
      alias: registration form
      description: registration form
      providerId: form-flow
      topLevel: false
      builtIn: true
      authenticationExecutions:
      - authenticator: registration-user-creation
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 20
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: registration-profile-action
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 40
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: registration-password-action
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 50
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: registration-recaptcha-action
        authenticatorFlow: false
        requirement: DISABLED
        priority: 60
        autheticatorFlow: false
        userSetupAllowed: false
    - id: e96bc856-3a66-4511-bf92-b9c42b1a7c3f
      alias: registration webauthn
      description: registration flow
      providerId: basic-flow
      topLevel: true
      builtIn: false
      authenticationExecutions:
      - authenticator: registration-page-form
        authenticatorFlow: true
        requirement: REQUIRED
        priority: 10
        autheticatorFlow: true
        flowAlias: registration webauthn registration form
        userSetupAllowed: false
    - id: 4e39d648-ca64-4a5c-8e29-b1c96b51dd70
      alias: registration webauthn registration form
      description: registration form
      providerId: form-flow
      topLevel: false
      builtIn: false
      authenticationExecutions:
      - authenticator: registration-user-creation
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 20
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: registration-profile-action
        authenticatorFlow: false
        requirement: DISABLED
        priority: 40
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: registration-recaptcha-action
        authenticatorFlow: false
        requirement: DISABLED
        priority: 60
        autheticatorFlow: false
        userSetupAllowed: false
    - id: 5a61506b-efe2-480c-bc3e-8b5eae15f211
      alias: reset credentials
      description: Reset credentials for a user if they forgot their password or something
      providerId: basic-flow
      topLevel: true
      builtIn: true
      authenticationExecutions:
      - authenticator: reset-credentials-choose-user
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: reset-credential-email
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 20
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticator: reset-password
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 30
        autheticatorFlow: false
        userSetupAllowed: false
      - authenticatorFlow: true
        requirement: CONDITIONAL
        priority: 40
        autheticatorFlow: true
        flowAlias: Reset - Conditional OTP
        userSetupAllowed: false
    - id: a709b220-d9b6-40af-81c4-15bfeb60ef8c
      alias: saml ecp
      description: SAML ECP Profile Authentication Flow
      providerId: basic-flow
      topLevel: true
      builtIn: true
      authenticationExecutions:
      - authenticator: http-basic-authenticator
        authenticatorFlow: false
        requirement: REQUIRED
        priority: 10
        autheticatorFlow: false
        userSetupAllowed: false
    authenticatorConfig:
    - id: 660efbcd-0db6-4db5-bcb9-8c310086d65c
      alias: create unique user config
      config:
        require.password.update.after.registration: 'false'
    - id: 4bb95aed-2526-4dd3-9681-87ace392ed8c
      alias: review profile config
      config:
        update.profile.on.first.login: missing
    requiredActions:
    - alias: CONFIGURE_TOTP
      name: Configure OTP
      providerId: CONFIGURE_TOTP
      enabled: true
      defaultAction: false
      priority: 10
      config: {}
    - alias: terms_and_conditions
      name: Terms and Conditions
      providerId: terms_and_conditions
      enabled: false
      defaultAction: false
      priority: 20
      config: {}
    - alias: UPDATE_PASSWORD
      name: Update Password
      providerId: UPDATE_PASSWORD
      enabled: true
      defaultAction: false
      priority: 30
      config: {}
    - alias: UPDATE_PROFILE
      name: Update Profile
      providerId: UPDATE_PROFILE
      enabled: true
      defaultAction: false
      priority: 40
      config: {}
    - alias: VERIFY_EMAIL
      name: Verify Email
      providerId: VERIFY_EMAIL
      enabled: true
      defaultAction: false
      priority: 50
      config: {}
    - alias: delete_account
      name: Delete Account
      providerId: delete_account
      enabled: false
      defaultAction: false
      priority: 60
      config: {}
    - alias: webauthn-register
      name: Webauthn Register
      providerId: webauthn-register
      enabled: true
      defaultAction: true
      priority: 70
      config: {}
    - alias: webauthn-register-passwordless
      name: Webauthn Register Passwordless
      providerId: webauthn-register-passwordless
      enabled: true
      defaultAction: false
      priority: 80
      config: {}
    - alias: update_user_locale
      name: Update User Locale
      providerId: update_user_locale
      enabled: true
      defaultAction: false
      priority: 1000
      config: {}
    browserFlow: browser webauthn
    registrationFlow: registration webauthn
    directGrantFlow: direct grant
    resetCredentialsFlow: reset credentials
    clientAuthenticationFlow: clients
    dockerAuthenticationFlow: docker auth
    attributes:
      cibaBackchannelTokenDeliveryMode: poll
      cibaExpiresIn: '120'
      cibaAuthRequestedUserHint: login_hint
      oauth2DeviceCodeLifespan: '600'
      oauth2DevicePollingInterval: '5'
      clientOfflineSessionMaxLifespan: '0'
      clientSessionIdleTimeout: '0'
      parRequestUriLifespan: '60'
      clientSessionMaxLifespan: '0'
      clientOfflineSessionIdleTimeout: '0'
      cibaInterval: '5'
    keycloakVersion: 19.0.2
    userManagedAccessAllowed: false
    clientProfiles:
      profiles: []
    clientPolicies:
      policies: []
